{% extends "layout.html" %}

{% block title %}
    calendar
{% endblock %}  

{% block head %}
<!--Calendar Style sheet-->
<link href="/static/calendar.css" rel="stylesheet">
<!-- Weekly Calendar Js file as the default of the Calendar-->
<script src="/static/js/calendar_weekly.js" defer></script>
<script src="/static/js/calendar_central.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,400,0,0" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
{% endblock %}

{% block main %}
<div class="d-flex justify-content-between cal_header">
  <div class="left-group">
    <div class="btn-group" role="group" aria-label="Basic outlined example">
      <button type="button" class="btn btn-outline arrowbtn" id="left"><</button>
      <button type="button" class="btn btn-outline arrowbtn" id="right">></button>
    </div>
    <button type="button" class="btn btn-outline-secondary todaybtn" id="today">Today</button> 
    <button type="button" class="btn btn-outline-secondary" id="AddEvent">Add Event</button>
          <form class="AddEvent" id="AddEventForm" method="POST" style="position: absolute;">
            <input placeholder="Event" width="auto" id="EventAddEvent" name="event_name" required>
            <div class="form-group">
              <label for="datepicker">Select a Date:</label>
              <input type="date" class="form-control" id="datepicker" name="datepicker" required>
              <label>Select a Category</label>
              <select name="Category" id="Category"required>
                <option value="B">Body</option>
                <option value="M">Mind</option>
                <option value="S">Social</option>
                <option value="G">Goal</option>
              </select>
            </div>
              <button id="CloseAddEvent" type="button">Close</button>
            <button id="added" type="submit">Ok</button>
          </form>
  </div>
  <h2 class="middle_group" id="timeh2"></h2>
  <div class="btn-group right_group" aria-label="Basic outlined example">
    <a href="calendar_year"><button type="button" class="btn btn-outline-warning" id="year">Year</button></a>
    <a href="calendar_month"><button type="button" class="btn btn-outline-warning"id='monthly'>Month</button></a>
    <a href="calendar"><button type="button" class="btn btn-outline-warning" id="week">Week</button></a>
  </div>
</div>

<section>
  {% block section %}
  {% endblock %}
  <div class="calendarweekly" id="weekly"></div>
</section>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
document.querySelector('#CloseAddEvent').addEventListener('click', function(event) {
    event.preventDefault();
    event.stopPropagation();
    document.querySelector('.AddEvent').style.display = 'none';
});
$(document).ready(function() {
  $('#AddEvent').click(function(event) {
    $('.AddEvent').css('display', 'block');
  });

  $('#added').click(function(event) {
    const eventAddEvent = $('#EventAddEvent').val();
    const datepicker = $('#datepicker').val();
    if (eventAddEvent && datepicker) {
      alert('Event successfully added!', 'success');
    }
  });
});
document.getElementById('test').addEventListener("mouseover", function(event){
  $('.card').css('display', 'block');
});
document.getElementById('test').addEventListener("mouseout", function(event){
  $('.card').css('display', 'none');
});

</script>
{% endblock %}